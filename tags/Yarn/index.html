<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>Tag: Yarn | Donjote 博客</title>
    <meta name="author" content="Donjote" />
    <meta name="version" content="1.0.0" />
    <meta name="keywords" content="undefined" />
    <meta name="description" content="null" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta name="baidu-site-verification" content="F0CXvmUgA9" />

    
    
    <link rel="icon" href="/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <button id="open-panel" class="open-panel"><i class="icon-library"></i></button>

    <nav class="nav-inner">

        
        
        <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
        </li>
        
        
        
        <li class="nav-item nav-item-tag">
            <a id="nav-tag" class="nav-link" href="#">标签</a>
            <div id="nav-tags" class="nav-tag-wrap">
                <i class="nav-tag-arrow"></i>
                
  <div class="widget-wrap">
    <h3 class="widget-title">
        <i class="icon-tag vm"></i>
        <span class="vm">Tags</span>
    </h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Electron/">Electron</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/">Golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/">NoSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RPC/">RPC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/">React Native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Restful/">Restful</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/">TensorFlow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weex/">Weex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yarn/">Yarn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/etcd/">etcd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gRPC/">gRPC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm镜像/">npm镜像</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/">spring boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/事务/">事务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分布式架构/">分布式架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区块链/">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微服务/">微服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/敏捷开发/">敏捷开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务发现/">服务发现</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/架构/">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/神经网络/">神经网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>
    </div>
  </div>


            </div>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/archives">归档</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/about">关于</a>
        </li>
        
        
        

    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://donjote.github.io"></form>

        
        

        
        <div class="author-meta">
            
            <div class="author-avatar">
                <a href="/">
                    <img src="/images/avatar.jpg" title="Sanonz">
                </a>
            </div>
            
            <div class="author-name">Donjote</div>
            <div class="author-work"></div>
            <div class="author-location">
                <i class="icon-location vm"></i>
                <span class="vm">Shenzhen, China</span>
            </div>
            
            <div class="author-thread-wrap">
                <div class="author-threads clearfix">
                    
                    <a class="thread-item" href="https://github.com/donjote" target="_blank" rel="noopener"><i class="icon-github"></i></a>
                    
                    
                    
                </div>
            </div>
            
        </div>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2017/07/10/yarn/">Yarn介绍</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="/2017/07/10/yarn/">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2017-07-09T16:00:00.000Z" itemprop="datePublished">2017-07-10</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/Nodejs/">Nodejs</a>, <a class="article-tag-link" href="/tags/Yarn/">Yarn</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h2 id="Yarn介紹"><a href="#Yarn介紹" class="headerlink" title="Yarn介紹"></a>Yarn介紹</h2><blockquote>
<p>Facebook发布的新一代包管理工具，旨在解决以往使用npm作为包管理会遇到的一些问题。从其官方介绍可以看到其重点强调的3个点：快、可靠、安全。</p>
</blockquote>
<h2 id="Yarn特性"><a href="#Yarn特性" class="headerlink" title="Yarn特性"></a>Yarn特性</h2><blockquote>
<h3 id="离线模式"><a href="#离线模式" class="headerlink" title="离线模式"></a>离线模式</h3><p>以前安装过的包可以在没有任何互联网连接的情况下重新安装。</p>
<h3 id="确定性"><a href="#确定性" class="headerlink" title="确定性"></a>确定性</h3><p>不管安装顺序如何，相同的依赖关系将在每台机器上以相同的方式安装。</p>
<h3 id="网络性能"><a href="#网络性能" class="headerlink" title="网络性能"></a>网络性能</h3><p>Yarn 有效地对请求进行排队，并避免 request waterfalls， 以便最大限度地利用网络。</p>
<h3 id="多个-Registries"><a href="#多个-Registries" class="headerlink" title="多个 Registries"></a>多个 Registries</h3><p>支持从 npm 或 Bower 安装包，并保持安装包的工作流程相同。</p>
<h3 id="网络恢复"><a href="#网络恢复" class="headerlink" title="网络恢复"></a>网络恢复</h3><p>单个请求失败不会导致安装失败，而会重试请求。</p>
<h3 id="扁平模式"><a href="#扁平模式" class="headerlink" title="扁平模式"></a>扁平模式</h3><p>将不兼容版本的依赖项解析为单个版本，以避免重复下载。</p>
</blockquote>
<h2 id="安装方法"><a href="#安装方法" class="headerlink" title="安装方法"></a>安装方法</h2><blockquote>
<pre><code>$ sudo npm i -g yarn
</code></pre></blockquote>
<h2 id="设置淘宝镜像"><a href="#设置淘宝镜像" class="headerlink" title="设置淘宝镜像"></a>设置淘宝镜像</h2><blockquote>
<pre><code>$ yarn config set registry https://registry.npm.taobao.org --global
$ yarn config set disturl https://npm.taobao.org/dist --global
</code></pre></blockquote>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><blockquote>
<h3 id="初始化一个新的项目"><a href="#初始化一个新的项目" class="headerlink" title="初始化一个新的项目"></a>初始化一个新的项目</h3><pre><code>$ yarn init
</code></pre><h3 id="添加一个依赖包"><a href="#添加一个依赖包" class="headerlink" title="添加一个依赖包"></a>添加一个依赖包</h3><pre><code>$ yarn add [package]
$ yarn add [package]@[version]
$ yarn add [package]@[tag]
</code></pre><h3 id="更新一个依赖包"><a href="#更新一个依赖包" class="headerlink" title="更新一个依赖包"></a>更新一个依赖包</h3><pre><code>$ yarn upgrade [package]
$ yarn upgrade [package]@[version]
$ yarn upgrade [package]@[tag]
</code></pre><h3 id="移除一个依赖包"><a href="#移除一个依赖包" class="headerlink" title="移除一个依赖包"></a>移除一个依赖包</h3><pre><code>$ yarn remove [package]
</code></pre><h3 id="安装项目所有的依赖包"><a href="#安装项目所有的依赖包" class="headerlink" title="安装项目所有的依赖包"></a>安装项目所有的依赖包</h3><pre><code>$ yarn
或
$ yarn install
</code></pre><p> Yarn命令列表</p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th>操作</th>
<th>参数</th>
<th>标签</th>
</tr>
</thead>
<tbody>
<tr>
<td>yarn add</td>
<td>添加依赖包</td>
<td>包名</td>
<td>–dev/-D</td>
</tr>
<tr>
<td>yarn bin</td>
<td>显示yarn安装目录</td>
<td>无</td>
<td>无</td>
</tr>
<tr>
<td>yarn cache</td>
<td>显示缓存</td>
<td>列出缓存包：ls，打出缓存目录路径：dir，清除缓存：clean</td>
<td>无</td>
</tr>
<tr>
<td>yarn check</td>
<td>检查包</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn config</td>
<td>配置</td>
<td>设置：set <key> <value>， 删除：delete， 列出：list</value></key></td>
<td>[-g或–global]</td>
</tr>
<tr>
<td>yarn generate-lock-entry</td>
<td>生成锁定文件</td>
<td>无</td>
<td>无</td>
</tr>
<tr>
<td>yarn global</td>
<td>全局安装依赖包</td>
<td>yarn global <add bin="" ls="" remove="" upgrade=""> [–prefix]</add></td>
<td>–prefix 包路径前缀</td>
</tr>
<tr>
<td>yarn info</td>
<td>显示依赖包的信息</td>
<td>包名</td>
<td>–json：json格式显示结果</td>
</tr>
<tr>
<td>yarn init</td>
<td>互动式创建/更新package.json文件</td>
<td>无</td>
<td>–yes/-y：以默认值生成package.json文件</td>
</tr>
<tr>
<td>yarn install</td>
<td>安装所有依赖包</td>
<td></td>
<td>–flat：只安装一个版本；–force：强制重新下载安装；–har：输出安装时网络性能日志；–no-lockfile：不生成yarn.lock文件；–production：生产模式安装（不安装devDependencies中的依赖）</td>
</tr>
<tr>
<td>yarn licenses</td>
<td>列出已安装依赖包的证书</td>
<td>ls：证书列表；generate-disclaimer：生成免责声明</td>
<td></td>
</tr>
<tr>
<td>yarn link</td>
<td>开发时链接依赖包，以便在其他项目中使用</td>
<td>包名</td>
<td></td>
</tr>
<tr>
<td>yarn login</td>
<td>保存你的用户名、邮箱</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn logout</td>
<td>删除你的用户名、邮箱</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn list</td>
<td>列出已安装依赖包</td>
<td></td>
<td>–depth=0：列表深度，从0开始</td>
</tr>
<tr>
<td>yarn outdated</td>
<td>检查过时的依赖包</td>
<td>包名</td>
<td></td>
</tr>
<tr>
<td>yarn owner</td>
<td>管理拥有者</td>
<td>ls/add/remove</td>
<td></td>
</tr>
<tr>
<td>yarn pack</td>
<td>给包的依赖打包</td>
<td>–filename</td>
<td></td>
</tr>
<tr>
<td>yarn publish</td>
<td>将包发布到npm</td>
<td></td>
<td>–tag：版本标签；–access：公开（public）还是限制的（restricted）</td>
</tr>
<tr>
<td>yarn remove</td>
<td>卸载包，更新package.json和yarn.lock</td>
<td>包名</td>
<td></td>
</tr>
<tr>
<td>yarn run</td>
<td>运行package.json中预定义的脚本</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn self-update</td>
<td>yarn自身更新–未实现</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn tag</td>
<td>显示包的标签</td>
<td>add/rm/ls</td>
<td></td>
</tr>
<tr>
<td>yarn team</td>
<td>管理团队</td>
<td>create/destroy/add/rm/ls</td>
<td></td>
</tr>
<tr>
<td>yarn test</td>
<td>测试 = yarn run test</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn unlink</td>
<td>取消链接依赖包</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn upgrade</td>
<td>升级依赖包</td>
<td></td>
<td></td>
</tr>
<tr>
<td>yarn version</td>
<td>管理当前项目的版本号</td>
<td>–new-version ：直接记录版本号；–no-git-tag-version：不生成git标签</td>
<td></td>
</tr>
<tr>
<td>yarn why</td>
<td>分析为什么需要安装依赖包</td>
<td>包名/包目录/包目录中的文件名</td>
<td></td>
</tr>
</tbody>
</table>

        
    </section>
</article>





</div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>
</footer>


    </div>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script>
    
    <script type="text/javascript">
        $(function() {
            var nodes = {
                nav: $('#nav'),
                aside: $('#aside'),
                navTags: $('#nav-tags')
            };

            $('#open-panel, #aside-mask').on('click', function() {
                nodes.aside.toggleClass('panel-show');
            });
            $('#nav-tag').on('click', function(event) {
                event.preventDefault();console.log(nodes.navTags.attr('class'))
                nodes.navTags.toggleClass('tag-show');console.log(nodes.navTags.attr('class'))
            })/*.hover(function() {
                nodes.navTags.addClass('tag-show');
            }, function() {
                nodes.navTags.removeClass('tag-show');
            });*/

            
        });
    </script>

</body>
</html>
